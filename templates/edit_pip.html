{% extends 'base.html' %}
{% block title %}Edit PIP{% endblock %}

{% block content %}
<div class="p-6">
  <h1 class="text-2xl font-semibold text-slate-800 mb-6">
    Edit PIP for {{ employee.first_name }} {{ employee.last_name }}
  </h1>

  <form method="post" class="bg-white p-6 rounded-xl border border-slate-200 shadow-sm max-w-2xl space-y-5">
    {{ form.hidden_tag() }}

    <div>
      {{ form.concerns.label(class="block text-sm font-medium text-slate-700 mb-1") }}
      {{ form.concerns(class="w-full rounded-md border border-slate-300 p-2 focus:ring-[#0160B1] focus:border-[#0160B1]") }}
    </div>

    <div>
      {{ form.start_date.label(class="block text-sm font-medium text-slate-700 mb-1") }}
      {{ form.start_date(class="w-full rounded-md border border-slate-300 p-2 focus:ring-[#0160B1] focus:border-[#0160B1]") }}
    </div>

    <div>
      {{ form.review_date.label(class="block text-sm font-medium text-slate-700 mb-1") }}
      {{ form.review_date(class="w-full rounded-md border border-slate-300 p-2 focus:ring-[#0160B1] focus:border-[#0160B1]") }}
    </div>

    <div>
      {{ form.action_plan.label(class="block text-sm font-medium text-slate-700 mb-1") }}
      {{ form.action_plan(class="w-full rounded-md border border-slate-300 p-2 focus:ring-[#0160B1] focus:border-[#0160B1]") }}
    </div>

    <div>
      {{ form.meeting_notes.label(class="block text-sm font-medium text-slate-700 mb-1") }}
      {{ form.meeting_notes(class="w-full rounded-md border border-slate-300 p-2 focus:ring-[#0160B1] focus:border-[#0160B1]") }}
    </div>

    <div>
      <label for="status" class="block text-sm font-medium text-slate-700 mb-1">Status</label>
      <select id="status" name="status"
              class="w-full rounded-md border border-slate-300 p-2 focus:ring-[#0160B1] focus:border-[#0160B1] bg-white">
        <option value="Open" {% if pip.status == 'Open' %}selected{% endif %}>Open</option>
        <option value="Completed" {% if pip.status == 'Completed' %}selected{% endif %}>Completed</option>
        <option value="Closed" {% if pip.status == 'Closed' %}selected{% endif %}>Closed</option>
      </select>
    </div>

    <div class="flex items-center gap-4 pt-2">
      <button type="submit"
              class="bg-[#0160B1] text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition">
        {{ form.submit.label.text }}
      </button>
      <a href="{{ url_for('pip_detail', pip_id=pip.id) }}" class="text-slate-600 hover:underline text-sm">
        Cancel
      </a>
    </div>
  </form>
</div>
{% endblock %}
